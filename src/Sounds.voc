; ----------------------------------------------------------------------------
; Vocabulaire SOUNDS

#ifdef WITH_SOUNDS_VOC

#ifldef SOUNDS_LINK
#echo "Ajout entÃªte du vocabulaire SOUNDS"

SOUNDS_voc = RAM_START-2+(*-DictInitTable)
        .byte   $81,$A0
        .word   last_sounds_word_nfa

#else
#echo "Ajout du dictionaire SOUNDS"

;PREV_VOC_LINK = last_voc_link
;-last_voc_link = SOUNDS_LINK

; last_forth_word_nfa = HIMEM_nfa

SOUNDS_nfa:
        .byte   $C6
        .byte   "SOUND"
        .byte   $D3
; ----------------------------------------------------------------------------
        .word   last_forth_word_nfa
        .word   DODOES
        .word   DOVOC
        .word   SOUNDS_voc
SOUNDS_LINK:
;        .word   FORTH_LINK
        .word   last_voc_link

-last_voc_link = SOUNDS_LINK
-last_forth_word_nfa = SOUNDS_nfa

; ----------------------------------------------------------------------------
; PSG:_nfa
PSGCOL_nfa:
        .byte   $84
        .byte   "PSG"
        .byte   $BA
; ----------------------------------------------------------------------------
        .word   FORTH_voc
        .word   DOCOL
        .word   CREATE
        .word   HERE
        .word   LIT
        .word   $0E
        .word   ALLOT
        .word   HERE
        .word   PDO
LE32D:
        .word   I
        .word   ONES
        .word   CSTORE
        .word   LIT
        .word   $FFFF
        .word   PPLOOP
        .word   LE32D
        .word   PSEMICODE
; ----------------------------------------------------------------------------
        stx     _XSAVE
        ldy     #$02
        lda     (W),y
        tax
        iny
        lda     (W),y
        tay
        brk  :  .byte XSONPS                    ; Telemon
        ldx     _XSAVE
        jmp     NEXT

; ----------------------------------------------------------------------------
; PSG!_nfa
PSGSTORE_nfa:
        .byte   $84
        .byte   "PSG"
        .byte   $A1
; ----------------------------------------------------------------------------
        .word   PSGCOL_nfa
        .word   DOCOL
        .word   AYX
        .word   TWOP
        .word   CSTORE
        .word   LIT
        .word   XEPSG
        .word   MON
        .word   SEMIS
; ----------------------------------------------------------------------------
PLAY_nfa:
        .byte   $84
        .byte   "PLA"
        .byte   $D9
; ----------------------------------------------------------------------------
        .word   PSGSTORE_nfa
        .word   DOHRS
; ----------------------------------------------------------------------------
        .byte   $43,$04
; ----------------------------------------------------------------------------
SOUND_nfa:
        .byte   $85
        .byte   "SOUN"
        .byte   $C4
; ----------------------------------------------------------------------------
        .word   PLAY_nfa
        .word   DOHRS
; ----------------------------------------------------------------------------
        .byte   $44,$03
; ----------------------------------------------------------------------------
MUSIC_nfa:
        .byte   $85
        .byte   "MUSI"
        .byte   $C3
; ----------------------------------------------------------------------------
        .word   SOUND_nfa
        .word   DOHRS
; ----------------------------------------------------------------------------
        .byte   $45,$04
; ----------------------------------------------------------------------------
; Appel Telemon XOUPS ($42)
OUPS_nfa:
        .byte   $84
        .byte   "OUP"
        .byte   $D3
; ----------------------------------------------------------------------------
        .word   MUSIC_nfa
        .word   DOMON
; ----------------------------------------------------------------------------
        .byte   XOUPS
; ----------------------------------------------------------------------------
; Appel Telemon XZAP ($46)
ZAP_nfa:
        .byte   $83
        .byte   "ZA"
        .byte   $D0
; ----------------------------------------------------------------------------
        .word   OUPS_nfa
        .word   DOMON
; ----------------------------------------------------------------------------
        .byte   XZAP
; ----------------------------------------------------------------------------
; Appel Telemon XSHOOT ($47)
SHOOT_nfa:
        .byte   $85
        .byte   "SHOO"
        .byte   $D4
; ----------------------------------------------------------------------------
        .word   ZAP_nfa
        .word   DOMON
; ----------------------------------------------------------------------------
        .byte   XSHOOT
; ----------------------------------------------------------------------------
; Appel Telemon XEXPLO ($9C)
EXPLODE_nfa:
        .byte   $87
        .byte   "EXPLOD"
        .byte   $C5
; ----------------------------------------------------------------------------
        .word   SHOOT_nfa
        .word   DOMON
; ----------------------------------------------------------------------------
        .byte   XEXPLO
; ----------------------------------------------------------------------------
; Appel Telemon XPING ($9D)
PING_nfa:
        .byte   $84
        .byte   "PIN"
        .byte   $C7
; ----------------------------------------------------------------------------
        .word   EXPLODE_nfa
        .word   DOMON
; ----------------------------------------------------------------------------
        .byte   XPING

last_sounds_word_nfa = PING_nfa
#endif

#endif

